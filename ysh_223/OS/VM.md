> **Memory**
[[OS]]
---

⇒ 프로그램과 프로그램 수행에 필요한 데이터 및 코드를 저장하는 장치

- 내부 : 주기억장치 (DRAM, Register, Cache)
- 외부 : 보조기억장치 (SSD, HDD)

> **Background of VM**

---

초창기 컴퓨터는 가장 큰 앱보다 큰 메모리를 가져야 했다

그렇지 않으면 메모리를 할당할 수 없기 때문에 오류가 발생함

이 문제를 해결하기 위해

⇒ 필요할 때만 일부를 기억장치에 올리는 Overlay 기법을 사용함

하지만 앱이 필요한 메모리만큼 메모리가 필요하기 때문에

애초에이 방법은 충분하지 못했다

이 문제를 해결하기 위해

⇒ “얼마나 많은 메모리가 필요한가” 보다 “최소한 얼마의 메모리가 필요한가” 에 집중한 VM이 등장함

- 가능한 이유
    1. 메모리 접근은 순차적이고, 지역화되어 있음

> **VM**

---

⇒ 실제 메모리보다 메모리가 많아보이게 하는 기술

⇒ 어떤 프로세스를 실행할 때 전체가 올라가지 않더라도 실행이 가능하다

⇒ 앱을 실행할 때 필요한 일부분만 메모리에 올리고 나머지는 디스크에 남아있음

이런 가상 메모리를 구현하기 위해 가상 메모리를 관리하는 HW부품이 있어야 함

⇒ MMU

> **MMU**

---

⇒ Memory management Unit으로 가상주소를 물리주소로 변환하고, 메모리를 보호한다

⇒ CPU가 주소에 접근하기 전에 주소 변역이 실행됨

추가 개념

- 요구 페이징 (Demand Paging)
    
    CPU가 요청할 때 프로세스의 데이터를 메모리에 올리는 것
    
- 가져오기 실패 (Page Fault)
    
    가져오려는 페이지가 메모리에 없을 때
    
- TLB
    
    변환 속도를 높히기 위해 사용하는 캐시로
    
    최근에 일어란 변환을 테이블에 저장해둠
    

> **VM개념에 대한 이해**

---

### 가정

- RAM : 10
- Disk : 500
- App : 1000

1. App은 가상 주소 1000을 받음
2. 실제 사용할 10을 RAM에서 돌림
3. RAM이 꽉 찬 상태에서 전부 다른 부분을 사용해야 할 때 원래 RAM에 있던 10은 Disk로 이동
4. RAM : 10, Disk 10, App 메모리 980은 아직 주소로만 존재