> **사전 개념**
[[Linux]]
---

⇒ 하드웨어에 직접 접근할 수 없는 커널은 이를 제어하기 위해 특정 파일을 제공하는데 이를 “디바이스 파일” 이라고 한다

⇒ 커널 내부 함수를 호출할 수 있는 정보만을 제공한다

**구조**

- 디바이스 드라이버 타입 정보 (문자형/블록형)
- 주 번호 (major)
- 부 번호 (minor)

리눅스 파일은 디렉토리 구조로 알려진 레이블 계층이다

⇒ 레이블 계층은 세 종류로 나뉜다

- 정규화일 (regular file)
    
    ⇒ 일반적으로 데이터 또는 코드에 해당하는 일련의 바이트를 포함한다. 표준 입출력 시스템 호출을 통해 참조된다
    
- 디렉토리화일 (directory file)
    
    ⇒ 특별한 형식으로 디스크에 저장되면 파일 시스템의 층수를 이룬다
    
- 특수화일 (special file)
    
    ⇒ 주변장치나 파이프와 소켓 같은 프로세스 간 상호 통신 매커니즘에 해당된다
    

> **주번호**

---

⇒ 어떤 디바이스 드라이버를 쓸지 결정

1. open(”/dev/xxx”) 호출
2. VFS가 디바이스 파일의 major 확인
3. 해당 major에 등록된 file_operations 드라이버로 연결

> **부번호**

---

⇒ 같은 드라이버 안에서 어떤 장치인지 구분

⇒ 그 드라이버가 관리하는 것 중 몇 번이을 정하냐

1. 같은 드라이버가 여러 장치/채널/포트를 관리
2. major 값으로 분기 처리